<?xml version="1.0" encoding="utf-8"?>
<ScrollView xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:background="#f8fafc"
    android:padding="16dp">

    <LinearLayout
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:orientation="vertical">

        <!-- Title -->
        <TextView
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:text="⚙️ Default Menu Management"
            android:textSize="24sp"
            android:textStyle="bold"
            android:textColor="#2c3e50"
            android:gravity="center"
            android:layout_marginBottom="8dp" />

        <!-- Instructions -->
        <TextView
            android:id="@+id/instructionsText"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:text="Configure default menu items for each diet type, meal, and day combination."
            android:textSize="14sp"
            android:textColor="#7f8c8d"
            android:background="#ecf0f1"
            android:padding="12dp"
            android:layout_marginBottom="16dp" />

        <!-- Selection Section -->
        <LinearLayout
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:orientation="vertical"
            android:background="#ffffff"
            android:padding="16dp"
            android:layout_marginBottom="16dp"
            android:elevation="2dp">

            <TextView
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:text="Configuration Selection"
                android:textSize="18sp"
                android:textStyle="bold"
                android:textColor="#2c3e50"
                android:layout_marginBottom="12dp" />

            <!-- Diet Type -->
            <TextView
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:text="Diet Type:"
                android:textSize="14sp"
                android:textStyle="bold"
                android:textColor="#34495e"
                android:layout_marginBottom="4dp" />

            <Spinner
                android:id="@+id/dietTypeSpinner"
                android:layout_width="match_parent"
                android:layout_height="48dp"
                android:layout_marginBottom="12dp"
                android:background="@android:drawable/btn_dropdown" />

            <!-- Meal Type -->
            <TextView
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:text="Meal Type:"
                android:textSize="14sp"
                android:textStyle="bold"
                android:textColor="#34495e"
                android:layout_marginBottom="4dp" />

            <Spinner
                android:id="@+id/mealTypeSpinner"
                android:layout_width="match_parent"
                android:layout_height="48dp"
                android:layout_marginBottom="12dp"
                android:background="@android:drawable/btn_dropdown" />

            <!-- Day of Week -->
            <TextView
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:text="Day of Week:"
                android:textSize="14sp"
                android:textStyle="bold"
                android:textColor="#34495e"
                android:layout_marginBottom="4dp" />

            <Spinner
                android:id="@+id/dayOfWeekSpinner"
                android:layout_width="match_parent"
                android:layout_height="48dp"
                android:layout_marginBottom="8dp"
                android:background="@android:drawable/btn_dropdown" />

            <!-- Current Configuration Text -->
            <TextView
                android:id="@+id/currentConfigText"
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:text="Select diet type, meal type, and day to configure default menu items."
                android:textSize="14sp"
                android:textColor="#27ae60"
                android:textStyle="italic"
                android:background="#d5f4e6"
                android:padding="8dp"
                android:layout_marginTop="8dp" />

        </LinearLayout>

        <!-- Menu Items Section -->
        <LinearLayout
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:orientation="vertical"
            android:background="#ffffff"
            android:padding="16dp"
            android:layout_marginBottom="16dp"
            android:elevation="2dp">

            <!-- Section Header -->
            <LinearLayout
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:orientation="horizontal"
                android:gravity="center_vertical"
                android:layout_marginBottom="12dp">

                <TextView
                    android:layout_width="0dp"
                    android:layout_height="wrap_content"
                    android:layout_weight="1"
                    android:text="Menu Items"
                    android:textSize="18sp"
                    android:textStyle="bold"
                    android:textColor="#2c3e50" />

                <Button
                    android:id="@+id/addItemButton"
                    android:layout_width="wrap_content"
                    android:layout_height="36dp"
                    android:text="+ Add Item"
                    android:textSize="12sp"
                    android:background="#3498db"
                    android:textColor="#ffffff"
                    android:paddingLeft="12dp"
                    android:paddingRight="12dp"
                    android:enabled="false" />

            </LinearLayout>

            <!-- Menu Items List -->
            <TextView
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:text="Long press an item to delete it"
                android:textSize="12sp"
                android:textColor="#7f8c8d"
                android:textStyle="italic"
                android:layout_marginBottom="8dp" />

            <ListView
                android:id="@+id/menuItemsListView"
                android:layout_width="match_parent"
                android:layout_height="200dp"
                android:divider="#ecf0f1"
                android:dividerHeight="1dp"
                android:scrollbars="vertical"
                android:background="#f8f9fa" />

        </LinearLayout>

        <!-- Action Buttons -->
        <LinearLayout
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:orientation="horizontal"
            android:gravity="center"
            android:layout_marginBottom="16dp">

            <Button
                android:id="@+id/saveChangesButton"
                android:layout_width="0dp"
                android:layout_height="48dp"
                android:layout_weight="1"
                android:text="💾 Save Changes"
                android:textSize="14sp"
                android:background="#27ae60"
                android:textColor="#ffffff"
                android:layout_marginEnd="8dp"
                android:enabled="false" />

            <Button
                android:id="@+id/resetToDefaultsButton"
                android:layout_width="0dp"
                android:layout_height="48dp"
                android:layout_weight="1"
                android:text="🔄 Reset to Defaults"
                android:textSize="14sp"
                android:background="#e67e22"
                android:textColor="#ffffff"
                android:layout_marginStart="8dp"
                android:enabled="false" />

        </LinearLayout>

        <!-- Help Information -->
        <LinearLayout
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:orientation="vertical"
            android:background="#fff3cd"
            android:padding="12dp"
            android:layout_marginBottom="16dp">

            <TextView
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:text="💡 Help"
                android:textSize="16sp"
                android:textStyle="bold"
                android:textColor="#856404"
                android:layout_marginBottom="8dp" />

            <TextView
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:text="• Default menu items are automatically applied to new patients\n• Breakfast items apply to all days\n• Lunch and dinner items are specific to each day\n• Staff can still customize individual patient meals in meal planning\n• Use 'Reset to Defaults' to restore system-provided menu items"
                android:textSize="12sp"
                android:textColor="#856404"
                android:lineSpacingExtra="2dp" />

        </LinearLayout>

    </LinearLayout>

</ScrollView>